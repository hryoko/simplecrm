{% extends 'base.html' %}
{% load dict_utils %}
{% block title %}顧客リスト | {{ block.super }}{% endblock %}

{% block content %}
<h1 class="main-header sticky1">顧客リスト</h1>
<form method="get">
  名前: <input type="text" name="name" value="{{ request.GET.name }}">
  電話番号: <input type="text" name="phone" value="{{ request.GET.phone }}">
  <button type="submit">絞り込み</button>
</form>

<table>
  <thead>
    <tr>
      <th>名前</th>
      <th>カナ</th>
      <th>年齢</th>
      <th>電話</th>
      <th>メール</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    {% for customer in customers %}
    <tr>
      <td>{{ customer.name }}</td>
      <td>{{ customer.name_kana }}</td>
      <td>{{ customer.age }}</td>
      <td>{{ customer.phone }}</td>
      <td>{{ customer.email }}</td>
      <td>
        <a href="{% url 'customers:detail' customer.pk %}">詳細</a> |
        <a href="{% url 'customers:update' customer.pk %}">編集</a> |
        <a href="{% url 'customers:delete' customer.pk %}">削除</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% include 'partials/dynamic_table.html' with headers=headers rows=rows %}

{% endblock %}